<!doctype html><html lang=cn><head><meta name=generator content="Hugo 0.80.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Go 语言设计与实现 #    各位读者朋友，很高兴大家通过本博客学习 Go 语言，感谢一路相伴！《Go语言设计与实现》的纸质版图书已经上架京东，有需要的朋友请点击 链接 购买。  历史和现状 #  Go 语言是诞生于 2009 年的编程语言，发展到今天已经有过去了 10 多年1。目前的 Go 语言在国内外的社区都非常热门，很多著名的开源框架，例如：Kubernetes、etcd 和 Prometheus 等都使用 Go 语言开发，近年来热门的微服务架构和云原生技术也为 Go 语言社区带来了非常多的活力。
图 1 - Go 语言
作者目前也使用 Go 语言作为日常开发的主要语言，虽然 Go 语言没有 Lisp 系语言的开发效率和强大表达能力，但是却是一门非常容易使用并且大规模运用的工程语言，这也是作者学习和使用 Go 语言的主要原因。
作者是从 2018 年才开始学习和使用 Go 语言的，刚刚接触 Go 语言时是有些排斥和拒绝的，一度认为 Go 语言 GOPATH 的设计非常诡异，而简单的语法也导致了低下的表达能力并且影响开发效率。但是随着对 Go 语言的深入学习和理解，作者的这一观念也在不断改变。
到了今天，作者认为我们在工业界需要这么一门语法简单的编译型语言，它能够提供简单的抽象和概念，虽然目前 Go 语言也有很多问题，但是语言以及周边工具的不断完善也让作者感受到了社区的活力，也坚定地认为这门语言未来的发展会越来愈好。
为什么要写这本书 #  目前的市面上分析 Go 语言实现的书籍较少，多数的书籍都偏重于 Go 语言基础和实战。虽然目前有很多分析 Go 语言的博客，但是它们却都面临以下的两个问题："><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Go 语言设计与实现"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="/golang/"><title>Go 语言设计与实现 | Go 语言设计与实现</title><link rel=manifest href=/golang/manifest.json><link rel=icon href=/golang/favicon.png type=image/x-icon><link rel=stylesheet href=/golang/book.min.bf064a71a8e587ec4bfe3f4ec7da33e2110269e1cd15b03e0a984aa16eeec2ab.css integrity="sha256-vwZKcajlh+xL/j9Ox9oz4hECaeHNFbA+CphKoW7uwqs="><script defer src=/golang/cn.search.min.34d3810a1ddfff99eab3ef038758ed373d5fd740414a9cc58628e2785e18d378.js integrity="sha256-NNOBCh3f/5nqs+8Dh1jtNz1f10BBSpzFhijieF4Y03g="></script><link rel=alternate type=application/rss+xml href=/golang/index.xml title="Go 语言设计与实现"><script type=text/javascript>!function(e,t,n,g,i){e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=('https:'==document.location.protocol?'https://':'http://')+g,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio");gio('init','a78e562f3dfff84c',{});gio('send');</script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/golang><span>Go 语言设计与实现</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/golang-book-release>购买纸质书</a></li><li><a href=>面向信仰编程</a></li><li><a href=https://github.com/draveness>GitHub</a></li><li><a href=https://img.draveness.me/2020-03-11-15839264230785-wechat-qr-code.png>微信公众号</a></li><li><a href=https://twitter.com/draven0xff>Twitter</a></li><li><a href=https://weibo.com/u/5123574960>Weibo</a></li></ul><hr><ul><li>第一部分 预备知识<ul><li>第一章 准备工作<ul><li><a href=/golang/docs/part1-prerequisite/ch01-prepare/golang-debug/>1.1 调试源代码</a></li></ul></li><li>第二章 编译原理<ul><li><a href=/golang/docs/part1-prerequisite/ch02-compile/golang-compile-intro/>2.1 编译过程</a></li><li><a href=/golang/docs/part1-prerequisite/ch02-compile/golang-lexer-and-parser/>2.2 词法分析和语法分析</a></li><li><a href=/golang/docs/part1-prerequisite/ch02-compile/golang-typecheck/>2.3 类型检查</a></li><li><a href=/golang/docs/part1-prerequisite/ch02-compile/golang-ir-ssa/>2.4 中间代码生成</a></li><li><a href=/golang/docs/part1-prerequisite/ch02-compile/golang-machinecode/>2.5 机器码生成</a></li></ul></li></ul></li></ul><ul><li>第二部分 基础知识<ul><li>第三章 数据结构<ul><li><a href=/golang/docs/part2-foundation/ch03-datastructure/golang-array/>3.1 数组</a></li><li><a href=/golang/docs/part2-foundation/ch03-datastructure/golang-array-and-slice/>3.2 切片</a></li><li><a href=/golang/docs/part2-foundation/ch03-datastructure/golang-hashmap/>3.3 哈希表</a></li><li><a href=/golang/docs/part2-foundation/ch03-datastructure/golang-string/>3.4 字符串</a></li></ul></li><li>第四章 语言基础<ul><li><a href=/golang/docs/part2-foundation/ch04-basic/golang-function-call/>4.1 函数调用</a></li><li><a href=/golang/docs/part2-foundation/ch04-basic/golang-interface/>4.2 接口</a></li><li><a href=/golang/docs/part2-foundation/ch04-basic/golang-reflect/>4.3 反射</a></li></ul></li><li>第五章 常用关键字<ul><li><a href=/golang/docs/part2-foundation/ch05-keyword/golang-for-range/>5.1 for 和 range</a></li><li><a href=/golang/docs/part2-foundation/ch05-keyword/golang-select/>5.2 select</a></li><li><a href=/golang/docs/part2-foundation/ch05-keyword/golang-defer/>5.3 defer</a></li><li><a href=/golang/docs/part2-foundation/ch05-keyword/golang-panic-recover/>5.4 panic 和 recover</a></li><li><a href=/golang/docs/part2-foundation/ch05-keyword/golang-make-and-new/>5.5 make 和 new</a></li></ul></li></ul></li><li>第三部分 运行时<ul><li>第六章 并发编程<ul><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-context/>6.1 上下文 Context</a></li><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-sync-primitives/>6.2 同步原语与锁</a></li><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-timer/>6.3 定时器</a></li><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-channel/>6.4 Channel</a></li><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-goroutine/>6.5 调度器</a></li><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-netpoller/>6.6 网络轮询器</a></li><li><a href=/golang/docs/part3-runtime/ch06-concurrency/golang-sysmon/>6.7 系统监控</a></li></ul></li><li>第七章 内存管理<ul><li><a href=/golang/docs/part3-runtime/ch07-memory/golang-memory-allocator/>7.1 内存分配器</a></li><li><a href=/golang/docs/part3-runtime/ch07-memory/golang-garbage-collector/>7.2 垃圾收集器</a></li><li><a href=/golang/docs/part3-runtime/ch07-memory/golang-stack-management/>7.3 栈内存管理</a></li></ul></li></ul></li><li>第四部分 进阶内容<ul><li>第八章 元编程<ul><li><a href=/golang/docs/part4-advanced/ch08-metaprogramming/golang-plugin/>8.1 插件系统</a></li><li><a href=/golang/docs/part4-advanced/ch08-metaprogramming/golang-code-gen/>8.2 代码生成</a></li></ul></li><li>第九章 标准库<ul><li><a href=/golang/docs/part4-advanced/ch09-stdlib/golang-json/>9.1 JSON</a></li><li><a href=/golang/docs/part4-advanced/ch09-stdlib/golang-net-http/>9.2 HTTP</a></li><li><a href=/golang/docs/part4-advanced/ch09-stdlib/golang-database-sql/>9.3 数据库</a></li></ul></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/golang/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Go 语言设计与实现</strong>
<label for=toc-control><img src=/golang/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#go-语言设计与实现>Go 语言设计与实现</a><ul><li><a href=#历史和现状>历史和现状</a></li><li><a href=#为什么要写这本书>为什么要写这本书</a></li><li><a href=#写作理念>写作理念</a></li><li><a href=#目标读者>目标读者</a></li><li><a href=#主要内容>主要内容</a></li><li><a href=#互动与勘误>互动与勘误</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=go-语言设计与实现>Go 语言设计与实现
<a class=anchor href=#go-%e8%af%ad%e8%a8%80%e8%ae%be%e8%ae%a1%e4%b8%8e%e5%ae%9e%e7%8e%b0>#</a></h1><blockquote><p>各位读者朋友，很高兴大家通过本博客学习 Go 语言，感谢一路相伴！《Go语言设计与实现》的纸质版图书已经上架京东，有需要的朋友请点击 <a href="https://union-click.jd.com/jdc?e=&p=JF8BAL8JK1olXDYCVlpeCEsQAl9MRANLAjZbERscSkAJHTdNTwcKBlMdBgABFksVB2wIG1wUQl9HCANtSABQA2hTHjBwD15qUVsVU01rX2oKXVcZbQcyV19eC0sTAWwPHGslXQEyAjBdCUoWAm4NH1wSbQcyVFlfDkkfBWsKGFkXWDYFVFdtfQhHRDtXTxlXbTYyV25tOEsnAF9KdV4QXw4HUAlVAU5DAmoMSQhGDgMBAVpcWEMSU2sLTlpBbQQDVVpUOA">链接 </a>购买。</p></blockquote><h2 id=历史和现状>历史和现状
<a class=anchor href=#%e5%8e%86%e5%8f%b2%e5%92%8c%e7%8e%b0%e7%8a%b6>#</a></h2><p>Go 语言是诞生于 2009 年的编程语言，发展到今天已经有过去了 10 多年<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>。目前的 Go 语言在国内外的社区都非常热门，很多著名的开源框架，例如：Kubernetes、etcd 和 Prometheus 等都使用 Go 语言开发，近年来热门的微服务架构和云原生技术也为 Go 语言社区带来了非常多的活力。</p><p><img src=https://img.draveness.me/2020-02-07-15810669816491-golang-banner.jpg alt=golang-banner></p><p><strong>图 1 - Go 语言</strong></p><p>作者目前也使用 Go 语言作为日常开发的主要语言，虽然 Go 语言没有 Lisp 系语言的开发效率和强大表达能力，但是却是一门非常容易使用并且大规模运用的工程语言，这也是作者学习和使用 Go 语言的主要原因。</p><p>作者是从 2018 年才开始学习和使用 Go 语言的，刚刚接触 Go 语言时是有些排斥和拒绝的，一度认为 Go 语言 GOPATH 的设计非常诡异，而简单的语法也导致了低下的表达能力并且影响开发效率。但是随着对 Go 语言的深入学习和理解，作者的这一观念也在不断改变。</p><p>到了今天，作者认为我们在工业界需要这么一门语法简单的编译型语言，它能够提供简单的抽象和概念，虽然目前 Go 语言也有很多问题，但是语言以及周边工具的不断完善也让作者感受到了社区的活力，也坚定地认为这门语言未来的发展会越来愈好。</p><h2 id=为什么要写这本书>为什么要写这本书
<a class=anchor href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e5%86%99%e8%bf%99%e6%9c%ac%e4%b9%a6>#</a></h2><p>目前的市面上分析 Go 语言实现的书籍较少，多数的书籍都偏重于 Go 语言基础和实战。虽然目前有很多分析 Go 语言的博客，但是它们却都面临以下的两个问题：</p><ul><li>大量博客会成段的展示源代码的实现细节，没有提供较好的可读性；</li><li>少部分博客的质量较高，它们对 Go 语言的一些模块讲解的比较深入，但是不够系统，不能形成足够丰富、完整的内容；</li></ul><p>除了上述的这些原因之外，目前关心 Go 语言设计以及演进的博客和书籍比较罕见，然而理解 Go 语言的发展史是帮助我们深入理解语言的有效途径，我们不应该忽视这一过程。</p><h2 id=写作理念>写作理念
<a class=anchor href=#%e5%86%99%e4%bd%9c%e7%90%86%e5%bf%b5>#</a></h2><p>分析语言设计与实现的书籍不是特别的好写，很多文章都会陷入对不重要的细节，大量的篇幅都是复制的源代码，分析介绍的过程也没有分清主次，不能提供很好的阅读体验。本书会遵循以下的一些理念为读者提供高质量的内容：</p><ul><li>通过大量配图帮助读者理解实现细节；</li><li>通过历史的演进和社区讨论理解设计背后的决策和原因；</li><li>删减源代码中的无关细节并给出精准到行的源码链接；</li><li>提供切实可行的源码阅读方法；</li></ul><p>作者会通过以上的不同手段帮助各位读者理解 Go 语言的设计以及实现原理。</p><h2 id=目标读者>目标读者
<a class=anchor href=#%e7%9b%ae%e6%a0%87%e8%af%bb%e8%80%85>#</a></h2><p>本书不建议没有任何编程经验的读者阅读，其目标读者包含以下几部分人群：</p><ul><li>学习过 Go 语言并且想要理解背后设计与实现的开发者；</li><li>有过其他语言的开发经验，想要学习 Go 语言的开发者；</li></ul><h2 id=主要内容>主要内容
<a class=anchor href=#%e4%b8%bb%e8%a6%81%e5%86%85%e5%ae%b9>#</a></h2><p>本书的主要内容可以分成四个主要部分，分别是编译原理、运行时、基础知识和进阶知识，这四部分几乎可以覆盖 Go 语言从编译到运行的方方面面，让我们对 Go 语言有更加整体和深刻的认识。下图的思维导图中展示了本书的主要内容：</p><p><img src=https://img.draveness.me/2020-02-07-15810644766743-contents-mindnode.png alt=contents-mindnode></p><p><strong>图 2 - Go 语言设计与实现主要内容</strong></p><p>通过阅读本书，你能深入理解 Go 语言的设计与实现，包括且不仅限于以下的内容：</p><ul><li>理解编译器的词法与语法解析、类型检查、中间代码生成以及机器码生成过程；</li><li>理解数组、切片、哈希表和字符串等数据结构的内部表示以及常见操作的原理；</li><li>理解 Go 语言中的函数、方法以及反射等语言特性；</li><li>理解常见并发原语 <code>Mutex</code>、<code>WaitGroup</code> 以及扩展原语的使用和原理；</li><li>理解 make、new、defer、select、for 和 range 等关键字的实现；</li><li>理解运行时中的调度器、网络轮询器、内存分配器、垃圾收集器的实现原理；</li><li>理解 HTTP、RPC、JSON 等标准库的设计与原理；</li><li>&mldr;</li></ul><h2 id=互动与勘误>互动与勘误
<a class=anchor href=#%e4%ba%92%e5%8a%a8%e4%b8%8e%e5%8b%98%e8%af%af>#</a></h2><p>如果你对文章的内容有疑问或者想要联系作者，可以直接在本书官方网站 <a href=draveness.me/golang/>draveness.me/golang/</a> 的对应章节留言，作者会<strong>在 24 小时内回复</strong>，如果暂时无法回答问题，也会通过 👀 表情留言，感谢您的支持与帮助。</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>What is the history of the project? <a href=https://golang.org/doc/faq#history>https://golang.org/doc/faq#history</a> <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"></div><h2>购买纸质书</h2><p>各位读者朋友，很高兴大家通过本博客学习 Go 语言，感谢一路相伴！ <a href=/golang>《Go语言设计与实现》</a> 的纸质版图书已经上架京东，本书目前已经四印，印数超过 10,000 册，有需要的朋友请点击 <a href="https://union-click.jd.com/jdc?e=&p=JF8BAL8JK1olXDYCVlpeCEsQAl9MRANLAjZbERscSkAJHTdNTwcKBlMdBgABFksVB2wIG1wUQl9HCANtSABQA2hTHjBwD15qUVsVU01rX2oKXVcZbQcyV19eC0sTAWwPHGslXQEyAjBdCUoWAm4NH1wSbQcyVFlfDkkfBWsKGFkXWDYFVFdtfQhHRDtXTxlXbTYyV25tOEsnAF9KdV4QXw4HUAlVAU5DAmoMSQhGDgMBAVpcWEMSU2sLTlpBbQQDVVpUOA">链接 </a>或者下面的图片购买。</p><a href="https://union-click.jd.com/jdc?e=&p=JF8BAL8JK1olXDYCVlpeCEsQAl9MRANLAjZbERscSkAJHTdNTwcKBlMdBgABFksVB2wIG1wUQl9HCANtSABQA2hTHjBwD15qUVsVU01rX2oKXVcZbQcyV19eC0sTAWwPHGslXQEyAjBdCUoWAm4NH1wSbQcyVFlfDkkfBWsKGFkXWDYFVFdtfQhHRDtXTxlXbTYyV25tOEsnAF9KdV4QXw4HUAlVAU5DAmoMSQhGDgMBAVpcWEMSU2sLTlpBbQQDVVpUOA"><img src=https://img.draveness.me/16375090482882-golang-intro-1.png alt=golang-book-intro></a><div class="flex flex-wrap justify-between"></div><p><img width=70% style=width:70%;height:70%;!important src=https://img.draveness.me/2020-03-11-15839264230785-wechat-qr-code.png alt=wechat-account-qrcode></p><p>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-nd/4.0/>知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。</p><link rel=stylesheet href=/golang/assets/prism.css><script type=text/javascript src=/golang/assets/prism.js></script><script>(function(w,d,s,id){if(typeof(w.webpushr)!=='undefined')return;w.webpushr=w.webpushr||function(){(w.webpushr.q=w.webpushr.q||[]).push(arguments)};var js,fjs=d.getElementsByTagName(s)[0];js=d.createElement(s);js.id=id;js.async=1;js.src="https://cdn.webpushr.com/app.min.js";fjs.parentNode.appendChild(js);}(window,document,'script','webpushr-jssdk'));webpushr('setup',{'key':'BKEGOqbGDOw5cDK8oIeqPhiq0LKfd-U8kXuIdwc_qyR_AGs0QtzZFBICnOPmi9hnApzzdX0X0TXC-oJ1-nGupGY'});</script><script src=https://giscus.app/client.js data-repo=draveness/blog-comments data-repo-id="MDEwOlJlcG9zaXRvcnkxMDg1NzY3MTY=" data-category=Announcements data-category-id=DIC_kwDOBni_zM4COMft data-mapping=specific data-term=/golang data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN crossorigin=anonymous async></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-56898419-1','auto');ga('set','referrer','https://dive-deep-into-golang');ga('send',{hitType:'pageview',page:"\/golang",source:'a-sip-of-golang'});</script><script type=text/javascript async src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$']],processEscapes:true,processEnvironments:true,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}});MathJax.Hub.Queue(function(){var all=MathJax.Hub.getAllJax(),i;for(i=0;i<all.length;i+=1){all[i].SourceElement().parentNode.className+=' has-jax';}});MathJax.Hub.Config({TeX:{equationNumbers:{autoNumber:"AMS"}}});</script><footer class="site-footer clearfix"><style>.site-footer{position:relative;margin:1rem 0 0;padding:1rem 15px;font-family:open sans,sans-serif;font-size:1rem;line-height:1.75em;color:#bbc7cc}.site-footer a{color:#bbc7cc;text-decoration:none;font-weight:700}.site-footer a:hover{border-bottom:#bbc7cc 1px solid}.copyright{display:block;width:100%;float:left}</style><section class=copyright><a href=>面向信仰编程</a> &copy; 2014 - 2020 | <a href=http://beian.miit.gov.cn target=_blank>陕ICP备15004432号-2</a></section></footer></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#go-语言设计与实现>Go 语言设计与实现</a><ul><li><a href=#历史和现状>历史和现状</a></li><li><a href=#为什么要写这本书>为什么要写这本书</a></li><li><a href=#写作理念>写作理念</a></li><li><a href=#目标读者>目标读者</a></li><li><a href=#主要内容>主要内容</a></li><li><a href=#互动与勘误>互动与勘误</a></li></ul></li></ul></nav></aside></main></body></html>